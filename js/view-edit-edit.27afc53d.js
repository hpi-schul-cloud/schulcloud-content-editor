(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-edit-edit","contentCard"],{"01ca":function(t,e,n){"use strict";var r=n("e467"),i=n.n(r);i.a},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"0a0d":function(t,e,n){t.exports=n("e829")},"0fc9":function(t,e,n){var r=n("3a38"),i=Math.max,a=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):a(t,e)}},1173:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},1654:function(t,e,n){"use strict";var r=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"1bc3":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"1ec0":function(t,e,n){},"1ec9":function(t,e,n){var r=n("f772"),i=n("e53d").document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},"20d6":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),i=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},"241e":function(t,e,n){var r=n("25eb");t.exports=function(t){return Object(r(t))}},"24c5":function(t,e,n){"use strict";var r,i,a,o,s=n("b8e3"),c=n("e53d"),u=n("d864"),l=n("40c3"),f=n("63b6"),d=n("f772"),p=n("79aa"),v=n("1173"),h=n("a22a"),m=n("f201"),g=n("4178").set,b=n("aba2")(),y=n("656e"),_=n("4439"),x=n("bc13"),S=n("cd78"),w="Promise",$=c.TypeError,C=c.process,j=C&&C.versions,A=j&&j.v8||"",O=c[w],E="process"==l(C),P=function(){},T=i=y.f,I=!!function(){try{var t=O.resolve(1),e=(t.constructor={})[n("5168")("species")]=function(t){t(P,P)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==A.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(r){}}(),F=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},k=function(t,e){if(!t._n){t._n=!0;var n=t._c;b(function(){var r=t._v,i=1==t._s,a=0,o=function(e){var n,a,o,s=i?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(i||(2==t._h&&D(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),o=!0)),n===e.promise?u($("Promise-chain cycle")):(a=F(n))?a.call(n,c,u):c(n)):u(r)}catch(f){l&&!o&&l.exit(),u(f)}};while(n.length>a)o(n[a++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){g.call(c,function(){var e,n,r,i=t._v,a=B(t);if(a&&(e=_(function(){E?C.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=E||B(t)?2:1),t._a=void 0,a&&e.e)throw e.v})},B=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){g.call(c,function(){var e;E?C.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),k(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw $("Promise can't be resolved itself");(e=F(t))?b(function(){var r={_w:n,_d:!1};try{e.call(t,u(N,r,1),u(M,r,1))}catch(i){M.call(r,i)}}):(n._v=t,n._s=1,k(n,!1))}catch(r){M.call({_w:n,_d:!1},r)}}};I||(O=function(t){v(this,O,w,"_h"),p(t),r.call(this);try{t(u(N,this,1),u(M,this,1))}catch(e){M.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("5c95")(O.prototype,{then:function(t,e){var n=T(m(this,O));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&k(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=u(N,t,1),this.reject=u(M,t,1)},y.f=T=function(t){return t===O||t===o?new a(t):i(t)}),f(f.G+f.W+f.F*!I,{Promise:O}),n("45f2")(O,w),n("4c95")(w),o=n("584a")[w],f(f.S+f.F*!I,w,{reject:function(t){var e=T(this),n=e.reject;return n(t),e.promise}}),f(f.S+f.F*(s||!I),w,{resolve:function(t){return S(s&&this===o?O:this,t)}}),f(f.S+f.F*!(I&&n("4ee1")(function(t){O.all(t)["catch"](P)})),w,{all:function(t){var e=this,n=T(e),r=n.resolve,i=n.reject,a=_(function(){var n=[],a=0,o=1;h(t,!1,function(t){var s=a++,c=!1;n.push(void 0),o++,e.resolve(t).then(function(t){c||(c=!0,n[s]=t,--o||r(n))},i)}),--o||r(n)});return a.e&&i(a.v),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,i=_(function(){h(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2a28":function(t,e,n){"use strict";var r=n("bc1a"),i=n.n(r);i.a},"2d52":function(t,e,n){"use strict";var r=n("39a1"),i=n.n(r);i.a},"2f21":function(t,e,n){"use strict";var r=n("79e5");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},"2f37":function(t,e,n){var r=n("63b6");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),a="includes";r(r.P+r.F*n("5147")(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},3024:function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"30f1":function(t,e,n){"use strict";var r=n("b8e3"),i=n("63b6"),a=n("9138"),o=n("35e8"),s=n("481b"),c=n("8f60"),u=n("45f2"),l=n("53e2"),f=n("5168")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",v="keys",h="values",m=function(){return this};t.exports=function(t,e,n,g,b,y,_){c(n,e,g);var x,S,w,$=function(t){if(!d&&t in O)return O[t];switch(t){case v:return function(){return new n(this,t)};case h:return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",j=b==h,A=!1,O=t.prototype,E=O[f]||O[p]||b&&O[b],P=E||$(b),T=b?j?$("entries"):P:void 0,I="Array"==e&&O.entries||E;if(I&&(w=l(I.call(new t)),w!==Object.prototype&&w.next&&(u(w,C,!0),r||"function"==typeof w[f]||o(w,f,m))),j&&E&&E.name!==h&&(A=!0,P=function(){return E.call(this)}),r&&!_||!d&&!A&&O[f]||o(O,f,P),s[e]=P,s[C]=m,b)if(x={values:j?P:$(h),keys:y?P:$(v),entries:T},_)for(S in x)S in O||a(O,S,x[S]);else i(i.P+i.F*(d||A),e,x);return x}},"32a6":function(t,e,n){var r=n("241e"),i=n("c3a1");n("ce7e")("keys",function(){return function(t){return i(r(t))}})},"32fc":function(t,e,n){var r=n("e53d").document;t.exports=r&&r.documentElement},"335c":function(t,e,n){var r=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"355d":function(t,e){e.f={}.propertyIsEnumerable},"35e8":function(t,e,n){var r=n("d9f6"),i=n("aebd");t.exports=n("8e60")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var r=n("335c"),i=n("25eb");t.exports=function(t){return r(i(t))}},3702:function(t,e,n){var r=n("481b"),i=n("5168")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"39a1":function(t,e,n){},"3a38":function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"3c11":function(t,e,n){"use strict";var r=n("63b6"),i=n("584a"),a=n("e53d"),o=n("f201"),s=n("cd78");r(r.P+r.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},"3cfa":function(t,e,n){},"40c3":function(t,e,n){var r=n("6b4c"),i=n("5168")("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),i))?n:a?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},4178:function(t,e,n){var r,i,a,o=n("d864"),s=n("3024"),c=n("32fc"),u=n("1ec9"),l=n("e53d"),f=l.process,d=l.setImmediate,p=l.clearImmediate,v=l.MessageChannel,h=l.Dispatch,m=0,g={},b="onreadystatechange",y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){y.call(t.data)};d&&p||(d=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},p=function(t){delete g[t]},"process"==n("6b4c")(f)?r=function(t){f.nextTick(o(y,t,1))}:h&&h.now?r=function(t){h.now(o(y,t,1))}:v?(i=new v,a=i.port2,i.port1.onmessage=_,r=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r=b in u("script")?function(t){c.appendChild(u("script"))[b]=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:d,clear:p}},"43fc":function(t,e,n){"use strict";var r=n("63b6"),i=n("656e"),a=n("4439");r(r.S,"Promise",{try:function(t){var e=i.f(this),n=a(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},4439:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"45f2":function(t,e,n){var r=n("d9f6").f,i=n("07e3"),a=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},"481b":function(t,e){t.exports={}},4880:function(t,e,n){"use strict";var r=n("f8ac"),i=n.n(r);i.a},"4c95":function(t,e,n){"use strict";var r=n("e53d"),i=n("584a"),a=n("d9f6"),o=n("8e60"),s=n("5168")("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];o&&e&&!e[s]&&a.f(e,s,{configurable:!0,get:function(){return this}})}},"4ee1":function(t,e,n){var r=n("5168")("iterator"),i=!1;try{var a=[7][r]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:n=!0}},a[r]=function(){return s},t(a)}catch(o){}return n}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},5168:function(t,e,n){var r=n("dbdb")("wks"),i=n("62a0"),a=n("e53d").Symbol,o="function"==typeof a,s=t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))};s.store=r},5176:function(t,e,n){t.exports=n("51b6")},"51b6":function(t,e,n){n("a3c3"),t.exports=n("584a").Object.assign},"53e2":function(t,e,n){var r=n("07e3"),i=n("241e"),a=n("5559")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},"549b":function(t,e,n){"use strict";var r=n("d864"),i=n("63b6"),a=n("241e"),o=n("b0dc"),s=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");i(i.S+i.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,d=a(t),p="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,m=void 0!==h,g=0,b=l(d);if(m&&(h=r(h,v>2?arguments[2]:void 0,2)),void 0==b||p==Array&&s(b))for(e=c(d.length),n=new p(e);e>g;g++)u(n,g,m?h(d[g],g):d[g]);else for(f=b.call(d),n=new p;!(i=f.next()).done;g++)u(n,g,m?o(f,h,[i.value,g],!0):i.value);return n.length=g,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},5559:function(t,e,n){var r=n("dbdb")("keys"),i=n("62a0");t.exports=function(t){return r[t]||(r[t]=i(t))}},"55dd":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d8e8"),a=n("4bf8"),o=n("79e5"),s=[].sort,c=[1,2,3];r(r.P+r.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(a(this)):s.call(a(this),i(t))}})},"584a":function(t,e){var n=t.exports={version:"2.6.2"};"number"==typeof __e&&(__e=n)},"5b4e":function(t,e,n){var r=n("36c3"),i=n("b447"),a=n("0fc9");t.exports=function(t){return function(e,n,o){var s,c=r(e),u=i(c.length),l=a(o,u);if(t&&n!=n){while(u>l)if(s=c[l++],s!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},"5c95":function(t,e,n){var r=n("35e8");t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},"5df3":function(t,e,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},"615b":function(t,e,n){"use strict";var r=n("f4f0"),i=n.n(r);i.a},"62a0":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"62c7":function(t,e,n){"use strict";var r=n("d5a0"),i=n.n(r);i.a},"63b6":function(t,e,n){var r=n("e53d"),i=n("584a"),a=n("d864"),o=n("35e8"),s=n("07e3"),c="prototype",u=function(t,e,n){var l,f,d,p=t&u.F,v=t&u.G,h=t&u.S,m=t&u.P,g=t&u.B,b=t&u.W,y=v?i:i[e]||(i[e]={}),_=y[c],x=v?r:h?r[e]:(r[e]||{})[c];for(l in v&&(n=e),n)f=!p&&x&&void 0!==x[l],f&&s(y,l)||(d=f?x[l]:n[l],y[l]=v&&"function"!=typeof x[l]?n[l]:g&&f?a(d,r):b&&x[l]==d?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[c]=t[c],e}(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[l]=d,t&u.R&&_&&!_[l]&&o(_,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},"656e":function(t,e,n){"use strict";var r=n("79aa");function i(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},6762:function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"696e":function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("24c5"),n("3c11"),n("43fc"),t.exports=n("584a").Promise},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),a=n("9e1e"),o="toString",s=/./[o],c=function(t){n("2aba")(RegExp.prototype,o,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)}):s.name!=o&&c(function(){return s.call(this)})},"6c1c":function(t,e,n){n("c367");for(var r=n("e53d"),i=n("35e8"),a=n("481b"),o=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],f=l&&l.prototype;f&&!f[o]&&i(f,o,u),a[u]=a.Array}},"71c1":function(t,e,n){var r=n("3a38"),i=n("25eb");t.exports=function(t){return function(e,n){var a,o,s=String(i(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(a=s.charCodeAt(c),a<55296||a>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):a:t?s.slice(c,c+2):o-56320+(a-55296<<10)+65536)}}},"774e":function(t,e,n){t.exports=n("d2d5")},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"795b":function(t,e,n){t.exports=n("696e")},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"7bfc":function(t,e,n){"use strict";var r=n("9653"),i=n.n(r);i.a},"7cd6":function(t,e,n){var r=n("40c3"),i=n("5168")("iterator"),a=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},"7e90":function(t,e,n){var r=n("d9f6"),i=n("e4ae"),a=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){i(t);var n,o=a(e),s=o.length,c=0;while(s>c)r.f(t,n=o[c++],e[n]);return t}},8436:function(t,e){t.exports=function(){}},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(t,e,n){"use strict";var r=n("a159"),i=n("aebd"),a=n("45f2"),o={};n("35e8")(o,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(o,{next:i(1,n)}),a(t,e+" Iterator")}},9003:function(t,e,n){var r=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==r(t)}},9138:function(t,e,n){t.exports=n("35e8")},9306:function(t,e,n){"use strict";var r=n("c3a1"),i=n("9aa9"),a=n("355d"),o=n("241e"),s=n("335c"),c=Object.assign;t.exports=!c||n("294c")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){var n=o(t),c=arguments.length,u=1,l=i.f,f=a.f;while(c>u){var d,p=s(arguments[u++]),v=l?r(p).concat(l(p)):r(p),h=v.length,m=0;while(h>m)f.call(p,d=v[m++])&&(n[d]=p[d])}return n}:c},"95d5":function(t,e,n){var r=n("40c3"),i=n("5168")("iterator"),a=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||a.hasOwnProperty(r(e))}},9653:function(t,e,n){},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9e18":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"content-card"}},[n("form",{attrs:{id:"contentForm"},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[n("BaseCard",[n("template",{slot:"head"},[t.editMode?n("div",{staticClass:"title"},[t._v(t._s(t.$lang.edit.title_edit))]):n("div",{staticClass:"title"},[t._v(t._s(t.$lang.edit.title_create))])]),n("template",{slot:"body"},[n("h3",[t._v("Metadaten")]),n("ContentTitle",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"title","data-vv-rules":"required",error:t.errors.first("title")},model:{value:t.data.title,callback:function(e){t.$set(t.data,"title",e)},expression:"data.title"}}),n("ContentDescription",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"description","data-vv-rules":"max:500|required",error:t.errors.first("description")},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}}),n("ContentLicense",{model:{value:t.data.licenses,callback:function(e){t.$set(t.data,"licenses",e)},expression:"data.licenses"}}),n("ContentCategory",{model:{value:t.data.contentCategory,callback:function(e){t.$set(t.data,"contentCategory",e)},expression:"data.contentCategory"}}),n("ContentMimetype",{model:{value:t.data.mimeType,callback:function(e){t.$set(t.data,"mimeType",e)},expression:"data.mimeType"}}),n("ContentTags",{model:{value:t.data.tags,callback:function(e){t.$set(t.data,"tags",e)},expression:"data.tags"}}),n("h3",[t._v("Inhalte")]),n("div",{staticClass:"wrapper"},[n("h4",{staticClass:"subtitle"},[t._v("Inhalte veröffentlichen?")]),n("BaseCheckbox",{attrs:{label:"published"},model:{value:t.data.isPublished,callback:function(e){t.$set(t.data,"isPublished",e)},expression:"data.isPublished"}})],1),n("ContentHostingProvider",{model:{value:t.hostingOption,callback:function(e){t.hostingOption=e},expression:"hostingOption"}}),"hostedExternally"===t.hostingOption?[n("ContentUrl",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"url","data-vv-rules":"required|url",error:t.errors.first("url")},model:{value:t.data.url,callback:function(e){t.$set(t.data,"url",e)},expression:"data.url"}}),n("ContentUrlThumbnail",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"thumbnail","data-vv-rules":"url",error:t.errors.first("thumbnail")},model:{value:t.data.thumbnail,callback:function(e){t.$set(t.data,"thumbnail",e)},expression:"data.thumbnail"}})]:t._e(),[n("ContentEntrypointSelector",{directives:[{name:"show",rawName:"v-show",value:"hostedAtSchulcloud"===t.hostingOption,expression:"hostingOption === 'hostedAtSchulcloud'"},{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"entrypointSelector","FIX-data-vv-rules":"{required: true, url: {require_protocol: false, require_host: false, allow_protocol_relative_urls: true}}",error:t.errors.first("entrypointSelector"),disabled:0===t.filetree.objects.length,files:t.entrypointFiles,"resource-id":t.$route.params.id||""},model:{value:t.data.url,callback:function(e){t.$set(t.data,"url",e)},expression:"data.url"}}),n("ContentThumbnailSelector",{directives:[{name:"show",rawName:"v-show",value:"hostedAtSchulcloud"===t.hostingOption,expression:"hostingOption === 'hostedAtSchulcloud'"},{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"thumbnailSelector","FIX-data-vv-rules":"{required: true, url: {require_protocol: false, require_host: false, allow_protocol_relative_urls: true}}",error:t.errors.first("thumbnailSelector"),disabled:0===t.filetree.objects.length,files:t.thumbnailFiles,"resource-id":t.$route.params.id||""},model:{value:t.data.thumbnail,callback:function(e){t.$set(t.data,"thumbnail",e)},expression:"data.thumbnail"}}),n("FileUpload",{directives:[{name:"show",rawName:"v-show",value:"hostedAtSchulcloud"===t.hostingOption,expression:"hostingOption === 'hostedAtSchulcloud'"}],attrs:{value:t.data.files,filetree:t.filetree},on:{"update:filetree":function(e){return t.handleFiletreeUpdate(e)},update:function(e){t.data.files=e}}})]],2),n("template",{slot:"footer"},[n("div",{staticClass:"button_wrapper"},[t.$route.params.id?n("BaseButton",{attrs:{styling:"secondary"},on:{click:function(e){t.dialog.active=!0}}},[t._v(t._s(t.$lang.buttons.delete))]):t._e(),n("ConfirmDialog",{attrs:{config:t.dialog},on:{confirm:t.deleteContent}}),n("BaseButton",{attrs:{styling:"secondary"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$lang.buttons.cancel)+"\n\t\t\t\t\t\t")]),n("BaseButton",{attrs:{form:"contentForm",type:"submit",disabled:!t.isFormValid}},[t._v(t._s(t.$lang.buttons.save))])],1)])],2)],1)]),n("div",{attrs:{id:"preview-card"}},[n("div",{staticClass:"preview-wrapper"},[n("h2",[t._v(t._s(t.$lang.edit.livepreview)+":")]),n("ContentCard",{attrs:{data:t.data,"read-only":!0}})],1)])])},i=[],a=n("0a0d"),o=n.n(a),s=(n("6b54"),n("f499")),c=n.n(s),u=(n("f559"),n("4917"),n("7f7f"),n("a4bb")),l=n.n(u),f=n("a026"),d=n("7bb1"),p=n("df2d"),v=n("7165"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseTextarea",{attrs:{value:t.value,name:"description",label:t.$lang.edit.form.description,placeholder:"Die Sets umfassen eine Maltafel mit nummerierten Malfeldern, Acrylfarben und Pinsel. ...",maxlength:"500",error:t.error},on:{input:function(e){return t.$emit("input",e)}}})},m=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("label",{class:{invalid:!!t.error},attrs:{for:t.name}},[t._v(t._s(t.label))]),n("textarea",{staticClass:"textarea",attrs:{name:t.name,maxlength:t.maxlength,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t.error?n("span",{staticClass:"invalid"},[t._v(t._s(t.error))]):t._e()])},b=[],y={name:"BaseInput",props:{value:{type:String,default:""},maxlength:{type:String,default:"100"},label:{type:String,required:!0},placeholder:{type:String,default:""},error:{type:String,default:""},name:{type:String,default:""}}},_=y,x=(n("c6a3"),n("2877")),S=Object(x["a"])(_,g,b,!1,null,"723d302b",null),w=S.exports,$={components:{BaseTextarea:w},props:{value:{type:String,required:!0},error:{type:String,default:""}}},C=$,j=Object(x["a"])(C,h,m,!1,null,null,null),A=j.exports,O=n("4320"),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("BaseInput",{attrs:{name:"thumbnail",value:t.value,type:"text",label:t.$lang.edit.form.thumbnail_url,placeholder:"https://...",error:t.error},on:{input:function(e){return t.$emit("input",e)}}})],1)},P=[],T=n("b8dc"),I={components:{BaseInput:T["a"]},props:{value:{type:String,required:!0},error:{type:String,default:""}}},F=I,k=(n("2d52"),Object(x["a"])(F,E,P,!1,null,"a7f07d00",null)),L=k.exports,B=n("90f4"),D=n("62ac"),M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("BaseSelect",{attrs:{label:t.$lang.edit.form.mimetype,name:"Mimetype",options:t.options,selected:t.value},on:{input:function(e){return t.$emit("input",e)}}})],1)},N=[],R=n("8cc4"),U={components:{BaseSelect:R["a"]},props:{value:{type:String,default:""}},data:function(){return{options:[{key:"application",value:"application"},{key:"audio",value:"audio"},{key:"example",value:"example"},{key:"image",value:"image"},{key:"message",value:"message"},{key:"model",value:"model"},{key:"multipart",value:"multipart"},{key:"text",value:"text"},{key:"video",value:"video"}]}}},q=U,G=(n("7bfc"),Object(x["a"])(q,M,N,!1,null,"b4f12e18",null)),V=G.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("CustomChipInput",{attrs:{value:t.value,label:t.$lang.edit.form.tags,placeholder:t.$lang.edit.form.tags+"... ("+t.$lang.edit.form.max+" 10)",max:10},on:{input:function(e){return t.$emit("input",e)}}})],1)},H=[],J=n("c5de"),W={components:{CustomChipInput:J["a"]},props:{value:{type:Array,default:function(){return[]}}}},X=W,K=Object(x["a"])(X,z,H,!1,null,null,null),Q=K.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("BaseSelect",{attrs:{label:t.$lang.edit.form.hosting,name:"Hosting",options:t.options,selected:t.value},on:{input:function(e){return t.$emit("input",e)}}})],1)},Z=[],tt={components:{BaseSelect:R["a"]},props:{value:{type:String,default:"",required:!0}},data:function(){return{options:[{key:"hostedExternally",value:"Selber hosten"},{key:"hostedAtSchulcloud",value:"Bei der Schul-Cloud hosten"}]}}},et=tt,nt=(n("4880"),Object(x["a"])(et,Y,Z,!1,null,"5fff5eaf",null)),rt=nt.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("BaseSelect",{attrs:{label:t.$lang.edit.form.entrypointSelector,name:"Entrypoint",options:t.options,selected:t.value,disabled:t.disabled||!t.files.length},on:{input:function(e){return t.$emit("input",e)}}})],1)},at=[],ot={components:{BaseSelect:R["a"]},props:{value:{type:String,default:"",required:!0},disabled:{type:Boolean,default:!1},files:{type:Array,default:function(){return[]}}},computed:{options:function(){return this.files.map(function(t){var e={};return e.key="/"+t,e.value=t,e})}}},st=ot,ct=(n("01ca"),Object(x["a"])(st,it,at,!1,null,"b45ce9ca",null)),ut=ct.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BaseSelect",{attrs:{label:t.$lang.edit.form.thumbnailSelector,name:"Thumbnail",options:t.options,selected:t.value,disabled:t.disabled||!t.files.length},on:{input:function(e){return t.$emit("input",e)}}})},ft=[],dt=n("a745"),pt=n.n(dt);function vt(t){if(pt()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var ht=n("774e"),mt=n.n(ht),gt=n("c8bb"),bt=n.n(gt);function yt(t){if(bt()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return mt()(t)}function _t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function xt(t){return vt(t)||yt(t)||_t()}var St={components:{BaseSelect:R["a"]},props:{value:{type:String,default:"",required:!0},disabled:{type:Boolean,default:!1},files:{type:Array,default:function(){return[]}},resourceId:{type:String,required:!0}},computed:{options:function(){var t=this;return[{key:"",value:this.$lang.edit.form.thumbnailAutogenerate}].concat(xt(this.files.map(function(e){var n={},r=t.$config.API.contentServerUrl+t.$config.API.hostingEntry+t.resourceId+"/"+e;return n.key=r,n.value=e,n})))}}},wt=St,$t=Object(x["a"])(wt,lt,ft,!1,null,null,null),Ct=$t.exports,jt=n("0ed6"),At=n("e2d2"),Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",[n("input",{attrs:{type:"checkbox",name:t.name},domProps:{checked:t.value,value:t.label},on:{change:function(e){return t.$emit("input",e.target.checked)}}}),n("span",{staticClass:"checkbox"}),t._v("\n\t"+t._s(t.label)+"\n\t"),t._t("icon")],2)},Et=[],Pt={name:"BaseCheckbox",props:{value:{type:Boolean,default:!1},label:{type:String,required:!0},name:{type:String,default:""}}},Tt=Pt,It=(n("f099"),Object(x["a"])(Tt,Ot,Et,!1,null,"6fc05e73",null)),Ft=It.exports,kt=(n("55dd"),n("20d6"),n("ac6a"),n("5176")),Lt=n.n(kt),Bt=(n("6762"),n("2fdb"),{methods:{$_traverseTree:function(t,e){var n=this;return pt()(t)?t.map(function(t){return t=e(t),"folder"===t.type&&(t.objects=n.$_traverseTree(t.objects,e)),t}):(t=e(t),"folder"===t.type&&(t.objects=this.$_traverseTree(t.objects,e)),t)},$_recursiveSetState:function(t,e){this.$_traverseTree(t,function(t){return t.state=e,t})},$_recursiveSaveAfterUpload:function(t){var e=this;this.$_traverseTree(t,function(t){return"file"!==t.type||e.value.save.includes(t.id)||t.xhr.addEventListener("load",function(t){var n=JSON.parse(t.srcElement.responseText);200===n.status&&e.value.save.push(n.message)},!1),t})},$_normalizeTree:function(t){return this.$_traverseTree(t,function(t){return Lt()({state:void 0,objects:[],progress:void 0,upload:void 0,xhr:void 0,originalId:void 0},t)})},$_mergeIntoForest:function(t,e){var n=this;return e.forEach(function(e){var r=t.findIndex(function(t){return t.name===e.name});-1===r?(n.$_recursiveSetState(e,"new"),t.push(e)):("new"!==t[r].state&&(t[r].originalId?t[r].xhr&&t[r].xhr.abort():e.originalId=t[r].id,e.state="updated",t.splice(r,1),t.push(e)),"folder"===t[r].type&&(t[r].objects=n.$_mergeIntoForest(t[r].objects,e.objects)))}),t.sort(function(t,e){return t.type===e.type?t.name.localeCompare(e.name):"file"===t.type?-1:1})}}}),Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-wrapper"},[n("div",{class:{"dropzone-over":t.dragging},attrs:{id:"dropzone"},on:{dragstart:function(e){return e.preventDefault(),t.handleDragover(e)},dragover:function(e){return e.preventDefault(),t.handleDragover(e)},dragleave:function(e){return e.preventDefault(),t.handleDragleave(e)},drop:function(e){return e.preventDefault(),t.handleDropEvent(e)}}},[t._v("Drop your files here!")]),n("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.filetree.objects.length,expression:"filetree.objects.length !== 0"}],attrs:{id:"filetree"}},[n("h4",[t._v("Your uploaded Files:")]),n("Filetree",{attrs:{value:t.value,filetree:t.filetree},on:{"update:filetree":function(e){t.filetree=e},update:function(e){return t.$emit("update",e)}}})],1)])},Mt=[],Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.filetree.objects,function(e){return n("ul",{key:e.id},[n("li",{class:["list-item","is-"+e.type],on:{dragenter:function(e){return e.preventDefault(),t.handleDragover(e)},dragover:function(e){return e.preventDefault(),t.handleDragover(e)},dragleave:function(e){return e.preventDefault(),t.handleDragleave(e)},drop:function(n){return n.preventDefault(),t.handleDropEvent(n,t.path,e)},click:function(n){return t.toggleExpansion(e)}}},[n("FiletreeEntry",{attrs:{icon:"file"===e.type?"insert_drive_file":t.expandedFolders.includes(e.id)?"folder_open":"folder",file:e,"read-only":"deleted"===t.parentState},on:{delete:t.deleteEntry,restore:t.restoreEntry}})],1),"folder"===e.type?n("li",[n("Filetree",{directives:[{name:"show",rawName:"v-show",value:t.expandedFolders.includes(e.id),expression:"expandedFolders.includes(item.id)"}],attrs:{filetree:e,value:t.value,path:t.path+"/"+e.name,"parent-state":e.state},on:{"update:filetree":function(t){e=t},update:function(e){return t.$emit("update",e)}}})],1):t._e()])}),0)},Rt=[],Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classList},[n("i",{staticClass:"icon material-icons"},[t._v(t._s(t.icon))]),n("span",{staticClass:"file-name"},[t._v(t._s(t.file.name))]),t.readOnly?t._e():[!t.file.state||["new","modified","upload-error"].includes(t.file.state)?n("button",{staticClass:"btn-icon btn-delete",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.$emit("delete",t.file.id,t.file.name)}}},[n("i",{staticClass:"material-icons"},[t._v("close")])]):t._e(),["deleted","updated"].includes(t.file.state)?n("button",{staticClass:"btn-icon btn-restore",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.$emit("restore",t.file.id,t.file.name)}}},[n("i",{staticClass:"material-icons"},[t._v("restore_page")])]):t._e()],void 0!==t.file.progress?n("progress",{staticClass:"progress",attrs:{max:"100"},domProps:{value:t.file.progress}}):t._e()],2)},qt=[],Gt={name:"FiletreeEntry",props:{icon:{type:String,default:"insert_drive_file"},file:{type:Object,required:!0},readOnly:{type:Boolean,default:!1}},computed:{classList:function(){var t=["entry"];return this.readonly&&t.push("readonly"),t.push("is-"+this.file.type),t.push("is-"+this.file.state),t}},watch:{file:{handler:function(t,e){this.$forceUpdate()},deep:!0}}},Vt=Gt,zt=(n("2a28"),Object(x["a"])(Vt,Ut,qt,!1,null,"3227c8ba",null)),Ht=zt.exports,Jt=(n("5df3"),n("a481"),n("795b")),Wt=n.n(Jt);function Xt(t){return new Wt.a(function(e,n){try{var r=t.createReader();r.readEntries(e)}catch(i){return n(i)}})}function Kt(t){return new Wt.a(function(e,n){try{return t.file(e)}catch(r){return n(r)}})}function Qt(t,e,n){var r=this;return Kt(t).then(function(t){var i="".concat(n.$config.API.contentServerUrl).concat(n.$config.API.fileUploadPath,"?path=").concat(e),a=new FormData;a.append("file",t);var o=new XMLHttpRequest;return o.upload.addEventListener("progress",function(t){if(t.lengthComputable){var e=t.loaded/t.total*100;e<100&&e>0&&(r.progress=e)}},!1),o.addEventListener("load",function(t){var e=JSON.parse(t.srcElement.responseText);if(200!==e.status)return r.state="upload-error",void console.error("Error after upload",t);r.id=e.message},!1),o.addEventListener("error",function(t){r.state="upload-error",console.error("Error during upload",t)},!1),o.addEventListener("timeout",function(t){r.state="upload-error",console.error("upload timed out",t)},!1),o.addEventListener("loadend",function(){r.progress=void 0,r.xhr=void 0},!1),o.open("post",i,!0),[["Authorization","Bearer ".concat(localStorage.getItem("jwt"))],["X-File-Name",t.name],["X-File-Size",t.size],["X-File-Type",t.type]].forEach(function(t){t[0]&&t[1]&&(t=t.map(function(t){return(t||"").toString().replace(/[^A-Za-z 0-9 \.,\?""!@#\$%\^&\*\(\)-_=\+;:<>\/\\\|\}\{\[\]`~]*/g,"")}),o.setRequestHeader(t[0],t[1]))}),o.send(a),o})}var Yt={methods:{$_traverseFiles:function(t,e){var n=this;if(t.isFile){var r=e+t.fullPath,i={id:r,name:t.name,type:"file",state:"",progress:void 0,upload:Qt,xhr:void 0};return i.upload(t,r,this).then(function(t){return i.xhr=t,i})}if(t.isDirectory)return Xt(t).then(function(t){return Wt.a.all(t.map(function(t){return n.$_traverseFiles(t,e)}))}).then(function(n){return{id:e+t.fullPath,name:t.name,type:"folder",state:"",objects:n}})},$_dropFile:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Wt.a.all(mt()(t.dataTransfer.items).map(function(t){var r=t.webkitGetAsEntry();if(r)return e.$_traverseFiles(r,n)}))}}},Zt={name:"Filetree",components:{FiletreeEntry:Ht},mixins:[Yt,Bt],props:{filetree:{type:Object,required:!0},value:{type:Object,required:!0},parentState:{type:String,default:""},path:{type:String,default:""}},data:function(){return{expandedFolders:[]}},watch:{parentState:function(t,e){var n=this;t!==e&&("deleted"===t?this.filetree.objects.forEach(function(t){"deleted"!==t.state&&n.deleteEntry(t.id,t.name)}):t||this.filetree.objects.forEach(function(t){"deleted"===t.state&&n.restoreEntry(t.id,t.name)}))},filetree:{handler:function(t,e){if("folder"===t.type){var n=t.objects.reduce(function(t,e){return e.progress?t?(t+e.progress)/2:e.progress:t},0);this.filetree.progress=n||void 0,"deleted"!==t.state&&(t.objects.every(function(t){return"new"===t.state})?this.filetree.state="new":t.objects.some(function(t){return!!t.state})?this.filetree.state="modified":this.filetree.state=void 0),this.$forceUpdate()}},deep:!0}},methods:{toggleExpansion:function(t){var e=t.id,n=t.type;"folder"===n&&(this.expandedFolders.includes(e)?this.expandedFolders.splice(this.expandedFolders.indexOf(e),1):this.expandedFolders.push(e))},getItemIndex:function(t){return this.filetree.objects.findIndex(function(e){return e.name===t})},abortRequest:function(t){return t.xhr&&t.xhr.abort(),t},deleteEntry:function(t,e){var n=this.getItemIndex(e);this.abortRequest(this.filetree.objects[n]);var r=this.filetree.objects[n];if("modified"===r.state){var i=r.objects.some(function(t){return["new","updated","modified"].includes(t.state)});if(i&&!confirm(this.$lang.upload.confirmDelete))return}"deleted"===r.state?console.warn("deleting this item shouldn't be possible"):"updated"===r.state?(this.restoreEntry(t,e),this.deleteEntry(t,e)):"new"===r.state||"upload-error"===r.state?(this.value.save.splice(this.value.save.indexOf(t),1),this.filetree.objects.splice(n,1)):(this.filetree.objects[n].state="deleted","file"===this.filetree.objects[n].type&&this.value.delete.push(t)),this.$emit("update",this.value),this.$forceUpdate()},restoreEntry:function(t,e){var n=this,r=this.getItemIndex(e);this.abortRequest(this.filetree.objects[r]);var i=this.filetree.objects[r];"new"!==i.state?("updated"===i.state&&(this.filetree.objects[r].id=i.originalId,this.filetree.objects[r].originalId=void 0,this.filetree.objects[r].state=void 0,this.value.save.filter(function(e){return e.includes(t)}).forEach(function(t){n.value.save.splice(n.value.save.indexOf(t),1)})),"deleted"===i.state&&(this.filetree.objects[r].state=void 0,this.value.delete.splice(this.value.delete.indexOf(t),1)),this.$emit("update",this.value),this.$forceUpdate()):console.error("unhandled state")},handleDropEvent:function(t,e,n){var r=this;"folder"===n.type&&"deleted"!==n.state&&this.$_dropFile(t,e+"/"+n.name).then(function(t){var e=r.filetree.objects;r.$_recursiveSaveAfterUpload(t);var i=e.findIndex(function(t){return t.name===n.name});-1===i?r.filetree.objects[i].objects.push(r.$_recursiveSetState(t,"new")):r.filetree.objects[i].objects=r.$_mergeIntoForest(r.filetree.objects[i].objects,t),r.$emit("update",r.value),r.$emit("update:filetree",r.filetree)}),this.handleDragleave(t)},wrappingFolder:function(t,e){var n=t.target.closest(".list-item");n&&mt()(n.classList).includes("is-folder")?e(n):e(void 0)},handleDragover:function(t){this.wrappingFolder(t,function(e){e&&!e.querySelector(".is-deleted")?(e.classList.add("dragover"),t.dataTransfer.dropEffect="copy"):t.dataTransfer.dropEffect="none"})},handleDragleave:function(t){this.wrappingFolder(t,function(t){t&&t.classList.remove("dragover")})}}},te=Zt,ee=(n("62c7"),Object(x["a"])(te,Nt,Rt,!1,null,"023b3f51",null)),ne=ee.exports,re={name:"Upload",components:{Filetree:ne},mixins:[Yt,Bt],props:{value:{type:Object,default:function(){return{delete:[],save:[]}}},filetree:{type:Object,default:function(){return{id:"",name:"",type:"folder",objects:[]}}}},data:function(){return{dragging:!1}},methods:{handleDropEvent:function(t){var e=this;return this.$_dropFile(t).then(function(t){return e.$_recursiveSaveAfterUpload(t),e.filetree.objects=e.$_mergeIntoForest(e.filetree.objects,t),e.$emit("update",e.value),e.$emit("update:filetree",e.filetree)}).then(function(t){return t})},handleDragover:function(t){t.dataTransfer.dropEffect="copy",this.dragging=!0},handleDragleave:function(t){this.dragging=!1}}},ie=re,ae=(n("bff3"),Object(x["a"])(ie,Dt,Mt,!1,null,"040c7b3b",null)),oe=ae.exports;f["default"].use(d["a"]);var se=function(){return n.e("ConfirmDialog").then(n.bind(null,"9135"))},ce={name:"ContentForm",components:{ContentCard:p["default"],ConfirmDialog:se,ContentTitle:v["a"],ContentDescription:A,ContentUrl:O["a"],ContentUrlThumbnail:L,ContentLicense:B["a"],ContentCategory:D["a"],ContentMimetype:V,ContentTags:Q,ContentHostingProvider:rt,ContentEntrypointSelector:ut,ContentThumbnailSelector:Ct,BaseButton:jt["a"],BaseCard:At["a"],BaseCheckbox:Ft,FileUpload:oe},mixins:[Bt],props:{editMode:Boolean},data:function(){return{data:{providerName:"Cornelsen",url:"",title:"",description:"",thumbnail:"",contentCategory:"",licenses:["Test License"],tags:[],files:{delete:[],save:[]},isPublished:!1},dialog:{active:!1,title:this.$lang.edit.dialog.title,content:this.$lang.edit.dialog.content,confirm:this.$lang.edit.dialog.confirm,cancle:this.$lang.edit.dialog.cancle},userInfo:JSON.parse(localStorage.getItem("userInfo"))||{},filetree:{objects:[]},hostingOption:""}},computed:{isFormValid:function(){var t=this;return l()(this.fields).every(function(e){return t.fields[e].valid})},entrypointFiles:function(){return this.filetree.objects.filter(function(t){return"file"===t.type}).map(function(t){return t.name})},thumbnailFiles:function(){return this.filetree.objects.filter(function(t){return"file"===t.type&&t.name.match(/\.(jpg|jpeg|png|gif|webp)$/i)}).map(function(t){return t.name})}},watch:{$route:function(){this.loadContent()}},created:function(){this.loadContent(),this.loadFiletree()},methods:{handleFiletreeUpdate:function(t){this.filetree=t},loadContent:function(){var t=this;this.editMode&&this.$http.get(this.$config.API.serverServerUrl+this.$config.API.getContentPath+this.$route.params.id,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(function(e){t.data=e.body,t.hostingOption=(t.data.url||"").startsWith(t.$config.API.contentServerUrl+t.$config.API.hostingEntry)?"hostedAtSchulcloud":"hostedExternally"}).catch(function(e){t.errors.add(e)})},loadFiletree:function(){var t=this;this.editMode&&this.$http.get(this.$config.API.contentServerUrl+this.$config.API.getFiletreePath+this.$route.params.id,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(function(e){t.filetree=t.$_normalizeTree(e.data)}).catch(function(e){t.errors.add(e)})},validateBeforeSubmit:function(){this.isFormValid&&this.submitContent()},submitContent:function(){var t,e=this,n=JSON.parse(c()(this.data));n.patchResourceUrl="hostedAtSchulcloud"===this.hostingOption&&!n.url.startsWith("http"),this.editMode?t=this.$http.patch(this.$config.API.contentServerUrl+this.$config.API.pushContentPath+this.$route.params.id,n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}):(n.originId=o()().toString(),t=this.$http.post(this.$config.API.contentServerUrl+this.$config.API.pushContentPath,n,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})),t.then(function(){e.$router.push({path:"/"})})},deleteContent:function(){var t=this;this.$http.delete(this.$config.API.contentServerUrl+this.$config.API.pushContentPath+this.$route.params.id,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(function(){t.$router.push({path:"/"})})}}},ue=ce,le=(n("a028"),Object(x["a"])(ue,r,i,!1,null,"3f464d72",null));e["default"]=le.exports},a028:function(t,e,n){"use strict";var r=n("e507"),i=n.n(r);i.a},a0bf:function(t,e,n){},a159:function(t,e,n){var r=n("e4ae"),i=n("7e90"),a=n("1691"),o=n("5559")("IE_PROTO"),s=function(){},c="prototype",u=function(){var t,e=n("1ec9")("iframe"),r=a.length,i="<",o=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+o+"document.F=Object"+i+"/script"+o),t.close(),u=t.F;while(r--)delete u[c][a[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[c]=r(t),n=new s,s[c]=null,n[o]=t):n=u(),void 0===e?n:i(n,e)}},a21f:function(t,e,n){var r=n("584a"),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},a22a:function(t,e,n){var r=n("d864"),i=n("b0dc"),a=n("3702"),o=n("e4ae"),s=n("b447"),c=n("7cd6"),u={},l={};e=t.exports=function(t,e,n,f,d){var p,v,h,m,g=d?function(){return t}:c(t),b=r(n,f,e?2:1),y=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(a(g)){for(p=s(t.length);p>y;y++)if(m=e?b(o(v=t[y])[0],v[1]):b(t[y]),m===u||m===l)return m}else for(h=g.call(t);!(v=h.next()).done;)if(m=i(h,b,v.value,e),m===u||m===l)return m};e.BREAK=u,e.RETURN=l},a3c3:function(t,e,n){var r=n("63b6");r(r.S+r.F,"Object",{assign:n("9306")})},a481:function(t,e,n){"use strict";var r=n("cb7c"),i=n("4bf8"),a=n("9def"),o=n("4588"),s=n("0390"),c=n("5f1b"),u=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,function(t,e,n,h){return[function(r,i){var a=t(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},function(t,e){var i=h(n,t,this,e);if(i.done)return i.value;var f=r(t),d=String(this),p="function"===typeof e;p||(e=String(e));var g=f.global;if(g){var b=f.unicode;f.lastIndex=0}var y=[];while(1){var _=c(f,d);if(null===_)break;if(y.push(_),!g)break;var x=String(_[0]);""===x&&(f.lastIndex=s(d,a(f.lastIndex),b))}for(var S="",w=0,$=0;$<y.length;$++){_=y[$];for(var C=String(_[0]),j=u(l(o(_.index),d.length),0),A=[],O=1;O<_.length;O++)A.push(v(_[O]));var E=_.groups;if(p){var P=[C].concat(A,j,d);void 0!==E&&P.push(E);var T=String(e.apply(void 0,P))}else T=m(C,d,j,A,E,e);j>=w&&(S+=d.slice(w,j)+T,w=j+C.length)}return S+d.slice(w)}];function m(t,e,r,a,o,s){var c=r+t.length,u=a.length,l=p;return void 0!==o&&(o=i(o),l=d),n.call(s,l,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>u){var d=f(l/10);return 0===d?n:d<=u?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):n}s=a[l-1]}return void 0===s?"":s})}})},a4bb:function(t,e,n){t.exports=n("8aae")},a745:function(t,e,n){t.exports=n("f410")},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),a=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},aba2:function(t,e,n){var r=n("e53d"),i=n("4178").set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,c="process"==n("6b4c")(o);t.exports=function(){var t,e,n,u=function(){var r,i;c&&(r=o.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(a){throw t?n():e=void 0,a}}e=void 0,r&&r.enter()};if(c)n=function(){o.nextTick(u)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,d=document.createTextNode("");new a(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),a=n("2aba"),o=n("7726"),s=n("32e9"),c=n("84f2"),u=n("2b4c"),l=u("iterator"),f=u("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(p),h=0;h<v.length;h++){var m,g=v[h],b=p[g],y=o[g],_=y&&y.prototype;if(_&&(_[l]||s(_,l,d),_[f]||s(_,f,g),c[g]=d,b))for(m in r)_[m]||a(_,m,r[m],!0)}},ac91:function(t,e,n){"use strict";var r=n("a0bf"),i=n.n(r);i.a},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0dc:function(t,e,n){var r=n("e4ae");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&r(a.call(t)),o}}},b447:function(t,e,n){var r=n("3a38"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},b8e3:function(t,e){t.exports=!0},bc13:function(t,e,n){var r=n("e53d"),i=r.navigator;t.exports=i&&i.userAgent||""},bc1a:function(t,e,n){},bff3:function(t,e,n){"use strict";var r=n("3cfa"),i=n.n(r);i.a},c207:function(t,e){},c367:function(t,e,n){"use strict";var r=n("8436"),i=n("50ed"),a=n("481b"),o=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},c3a1:function(t,e,n){var r=n("e6f3"),i=n("1691");t.exports=Object.keys||function(t){return r(t,i)}},c6a3:function(t,e,n){"use strict";var r=n("1ec0"),i=n.n(r);i.a},c8bb:function(t,e,n){t.exports=n("54a1")},cd78:function(t,e,n){var r=n("e4ae"),i=n("f772"),a=n("656e");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t),o=n.resolve;return o(e),n.promise}},ce7e:function(t,e,n){var r=n("63b6"),i=n("584a"),a=n("294c");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",o)}},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d5a0:function(t,e,n){},d864:function(t,e,n){var r=n("79aa");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},d9f6:function(t,e,n){var r=n("e4ae"),i=n("794b"),a=n("1bc3"),o=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},dad7:function(t,e,n){},dbdb:function(t,e,n){var r=n("584a"),i=n("e53d"),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dd27:function(t,e,n){t.exports=n.p+"img/icon-label.5c6410e7.svg"},df2d:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",[r("BaseCard",[r("template",{slot:"media"},[r("img",{attrs:{src:t.data.thumbnail||"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",alt:"Thumbnail for ~"+t.data.title+"~"}})]),r("template",{slot:"head"},[r("h2",{staticClass:"title"},[t._v(t._s(t.data.title||"Titel"))]),r("div",{staticClass:"tags"},[r("img",{staticClass:"icon",attrs:{src:n("dd27")}}),t._l((t.data.tags||[]).slice(0,this.$config.card.displayedTags),function(e,n){return r("span",{key:n+"-"+e},[t._v(t._s(e)+",")])})],2)]),r("template",{slot:"body"},[t._v("\n\t\t\t"+t._s((t.data.description||"Beschreibung...").substring(0,300))+"\n\t\t\t"+t._s((t.data.description||"").length>300?"...":"")+"\n\t\t")]),r("template",{slot:"footer"},[r("div",{staticClass:"button_wrapper"},[r("div",{staticClass:"provider-name"},[t._v(t._s(t.data.providerName))]),r("div",[t.data._id?r("BaseButton",{attrs:{styling:"secondary"},on:{click:function(e){t.dialog.active=!0}}},[t._v(t._s(t.$lang.buttons.open))]):t._e(),1!=t.readOnly?r("RouterLink",{attrs:{to:{path:"/edit/"+t.data._id}}},[r("BaseButton",{attrs:{styling:"secondary"}},[t._v(t._s(t.$lang.buttons.edit))])],1):t._e()],1)])])],2),r("ConfirmDialog",{attrs:{config:t.dialog},on:{confirm:t.onConfirm}})],1)},i=[],a=n("e2d2"),o=n("0ed6"),s=function(){return n.e("ConfirmDialog").then(n.bind(null,"9135"))},c={name:"ContentForm",components:{ConfirmDialog:s,BaseCard:a["a"],BaseButton:o["a"]},props:{data:{type:Object,required:!0},readOnly:{type:Boolean,default:!1}},data:function(){return{dialog:{active:!1,title:this.$lang.contentCard.dialog.title,content:this.$lang.contentCard.dialog.content,confirm:this.$lang.contentCard.dialog.confirm,cancle:this.$lang.contentCard.dialog.cancle}}},methods:{onConfirm:function(){window.open(this.$config.API.serverServerUrl+this.$config.API.viewContentPath+this.data._id,"_blank")}}},u=c,l=(n("ac91"),n("2877")),f=Object(l["a"])(u,r,i,!1,null,"b53e2032",null);e["default"]=f.exports},e2d2:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[t._t("default",[t.$slots.media?n("div",{staticClass:"media"},[t._t("media")],2):t._e(),t.$slots.head?n("div",{staticClass:"header"},[t._t("head")],2):t._e(),t.$slots.body?n("div",{staticClass:"body"},[t._t("body")],2):t._e(),t.$slots.footer?n("div",{staticClass:"footer"},[t._t("footer")],2):t._e()])],2)},i=[],a={name:"BaseCard"},o=a,s=(n("615b"),n("2877")),c=Object(s["a"])(o,r,i,!1,null,"076c080a",null);e["a"]=c.exports},e467:function(t,e,n){},e4ae:function(t,e,n){var r=n("f772");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},e507:function(t,e,n){},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e6f3:function(t,e,n){var r=n("07e3"),i=n("36c3"),a=n("5b4e")(!1),o=n("5559")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),c=0,u=[];for(n in s)n!=o&&r(s,n)&&u.push(n);while(e.length>c)r(s,n=e[c++])&&(~a(u,n)||u.push(n));return u}},e829:function(t,e,n){n("2f37"),t.exports=n("584a").Date.now},f099:function(t,e,n){"use strict";var r=n("dad7"),i=n.n(r);i.a},f201:function(t,e,n){var r=n("e4ae"),i=n("79aa"),a=n("5168")("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||void 0==(n=r(o)[a])?e:i(n)}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f499:function(t,e,n){t.exports=n("a21f")},f4f0:function(t,e,n){},f559:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),a=n("d2c8"),o="startsWith",s=""[o];r(r.P+r.F*n("5147")(o),"String",{startsWith:function(t){var e=a(this,t,o),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},f8ac:function(t,e,n){}}]);
//# sourceMappingURL=view-edit-edit.27afc53d.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-overview-editForm-table"],{"18fa":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{class:{changed:t.isDirty},attrs:{id:"contentForm"},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)},change:t.itemChanged}},[n("td",[n("MdField",{class:{"md-input-invalid":t.errors.has("title")}},[n("MdInput",{attrs:{type:"text"},model:{value:t.contentData.title,callback:function(e){t.$set(t.contentData,"title",e)},expression:"contentData.title"}}),n("span",{staticClass:"md-error"},[t._v("\n\t\t\t\t"+t._s(t.errors.first("title"))+"\n\t\t\t")])],1)],1),n("td",[n("MdField",{class:{"md-input-invalid":t.errors.has("url")}},[n("MdInput",{model:{value:t.contentData.url,callback:function(e){t.$set(t.contentData,"url",e)},expression:"contentData.url"}}),n("span",{staticClass:"md-error"},[t._v("\n\t\t\t\t"+t._s(t.errors.first("url"))+"\n\t\t\t")])],1)],1),n("td",{staticClass:"hide-s"},[n("MdField",[n("MdInput",{attrs:{name:"license"},model:{value:t.contentData.licenses,callback:function(e){t.$set(t.contentData,"licenses",e)},expression:"contentData.licenses"}})],1)],1),n("td",{staticClass:"hide-m"},[n("MdField",[n("MdSelect",{attrs:{id:"contentCategory",name:"contentCategory"},model:{value:t.contentData.contentCategory,callback:function(e){t.$set(t.contentData,"contentCategory",e)},expression:"contentData.contentCategory"}},[n("MdOption",{attrs:{value:""}}),n("MdOption",{attrs:{value:"atomic"}},[t._v("\n\t\t\t\t\tAtomic\n\t\t\t\t")]),n("MdOption",{attrs:{value:"interactive"}},[t._v("\n\t\t\t\t\tInteractive\n\t\t\t\t")])],1)],1)],1),n("td",[n("MdButton",{staticClass:"md-icon-button",on:{click:function(e){t.dialog.active=!0}}},[n("MdIcon",[t._v("delete")])],1),n("ConfirmDialog",{attrs:{config:t.dialog},on:{confirm:t.deleteContent}}),n("MdButton",{staticClass:"md-icon-button md-primary",attrs:{type:"submit"}},[n("MdIcon",[t._v("save")])],1)],1)])},i=[],o=(n("4917"),n("a026")),r=n("7bb1");o["default"].use(r["a"]);var s=function(){return n.e("ConfirmDialog").then(n.bind(null,"9135"))},c={name:"ContentTableRow",components:{ConfirmDialog:s},props:{contentData:{type:Object,default:function(){return{}}}},data:function(){return{isDirty:!1,dialog:{active:!1,title:this.$lang.edit.dialog.title,content:this.$lang.edit.dialog.content,confirm:this.$lang.edit.dialog.confirm,cancle:this.$lang.edit.dialog.cancle}}},watch:{"data.contentCategory":function(){this.itemChanged()},"data.licenses":function(){this.itemChanged()}},methods:{required:function(t){return t&&""!=t},isUrl:function(t){return t.match(/[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)/gi)},maxLength:function(t,e){return t.length<=e},validateBeforeSubmit:function(){if(this.isUrl(this.contentData.url)&&this.required(this.contentData.title))return alert("Form Submitted!"),void this.submitContent();alert("Correct the errors!")},submitContent:function(){this.clearItemChanged(),this.$route.params.id?this.$http.patch(this.$config.API.contentServerUrl+this.$config.API.pushContentPath+this.contentData._id,this.contentData,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}):this.$http.post(this.$config.API.contentServerUrl+this.$config.API.pushContentPath,this.contentData,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})},itemChanged:function(){this.isDirty=!0},clearItemChanged:function(){this.isDirty=!1},deleteContent:function(){var t=this;this.clearItemChanged(),this.$http.delete(this.$config.API.contentServerUrl+this.$config.API.pushContentPath+this.contentData._id,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(function(){t.$router.push({path:"/"})}),this.$emit("delete",this.contentData._id)}}},l=c,d=(n("ba54"),n("2877")),u=Object(d["a"])(l,a,i,!1,null,"5721ee7f",null);e["default"]=u.exports},ba54:function(t,e,n){"use strict";var a=n("fd2f"),i=n.n(a);i.a},fd2f:function(t,e,n){}}]);
//# sourceMappingURL=view-overview-editForm-table.80218382.js.map
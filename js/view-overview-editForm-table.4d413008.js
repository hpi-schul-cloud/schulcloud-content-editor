(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-overview-editForm-table"],{"0a2c":function(t,e,n){},"18fa":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{class:{changed:t.isDirty},attrs:{id:"contentForm"},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)},change:t.itemChanged}},[a("td",[a("ContentTitle",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"title","data-vv-rules":"required","without-label":!0,error:t.errors.first("title")},model:{value:t.contentData.title,callback:function(e){t.$set(t.contentData,"title",e)},expression:"contentData.title"}})],1),a("td",[a("ContentUrl",{directives:[{name:"validate",rawName:"v-validate"}],attrs:{"data-vv-name":"url","data-vv-rules":"required|url","without-label":!0,error:t.errors.first("url")},model:{value:t.contentData.url,callback:function(e){t.$set(t.contentData,"url",e)},expression:"contentData.url"}})],1),a("td",{staticClass:"hide-s"},[a("ContentLicense",{attrs:{"without-label":!0},model:{value:t.contentData.licenses,callback:function(e){t.$set(t.contentData,"licenses",e)},expression:"contentData.licenses"}})],1),a("td",{staticClass:"hide-m"},[a("ContentCategory",{attrs:{"without-label":!0},model:{value:t.contentData.contentCategory,callback:function(e){t.$set(t.contentData,"contentCategory",e)},expression:"contentData.contentCategory"}})],1),a("td",[a("BaseButton",{attrs:{secondary:!0,"round-shape":!0},on:{ButtonClicked:function(e){t.dialog.active=!0}}},[a("img",{attrs:{src:n("7345")}})]),a("ConfirmDialog",{attrs:{config:t.dialog},on:{confirm:t.deleteContent}}),a("BaseButton",{attrs:{type:"submit","round-shape":!0},on:{ButtonClicked:t.submitContent}},[a("img",{attrs:{src:n("86d9")}})])],1)])},i=[],o=(n("4917"),n("a026")),r=n("7bb1"),c=n("7165"),s=n("4320"),l=n("90f4"),u=n("62ac"),d=n("0ed6");o["default"].use(r["a"]);var h=function(){return n.e("ConfirmDialog").then(n.bind(null,"9135"))},f={name:"ContentTableRow",components:{ConfirmDialog:h,ContentTitle:c["a"],ContentUrl:s["a"],ContentLicense:l["a"],BaseButton:d["a"],ContentCategory:u["a"]},props:{contentData:{type:Object,default:function(){return{}}}},data:function(){return{isDirty:!1,dialog:{active:!1,title:this.$lang.edit.dialog.title,content:this.$lang.edit.dialog.content,confirm:this.$lang.edit.dialog.confirm,cancle:this.$lang.edit.dialog.cancle}}},watch:{"data.contentCategory":function(){this.itemChanged()},"data.licenses":function(){this.itemChanged()}},methods:{required:function(t){return t&&""!=t},isUrl:function(t){return t.match(/[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)/gi)},maxLength:function(t,e){return t.length<=e},validateBeforeSubmit:function(){if(this.isUrl(this.contentData.url)&&this.required(this.contentData.title))return alert("Form Submitted!"),void this.submitContent();alert("Correct the errors!")},submitContent:function(){this.clearItemChanged(),this.$route.params.id?this.$http.patch(this.$config.API.contentServerUrl+this.$config.API.pushContentPath+this.contentData._id,this.contentData,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}):this.$http.post(this.$config.API.contentServerUrl+this.$config.API.pushContentPath,this.contentData,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})},itemChanged:function(){this.isDirty=!0},clearItemChanged:function(){this.isDirty=!1},deleteContent:function(){var t=this;this.clearItemChanged(),this.$http.delete(this.$config.API.contentServerUrl+this.$config.API.pushContentPath+this.contentData._id,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(function(){t.$router.push({path:"/"})}),this.$emit("delete",this.contentData._id)}}},g=f,m=(n("37b5"),n("2877")),v=Object(m["a"])(g,a,i,!1,null,"2a0b7613",null);e["default"]=v.exports},"37b5":function(t,e,n){"use strict";var a=n("0a2c"),i=n.n(a);i.a},7345:function(t,e,n){t.exports=n.p+"img/icon-delete.94c1026d.svg"},"86d9":function(t,e,n){t.exports=n.p+"img/icon-save.b6e282fa.svg"}}]);
//# sourceMappingURL=view-overview-editForm-table.4d413008.js.map
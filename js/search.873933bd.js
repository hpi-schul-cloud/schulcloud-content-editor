(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search","view-overview-editForm-table"],{"14e0":function(t,e,n){var a=n("63b6"),i=n("5d6b");a(a.S+a.F*(Number.parseInt!=i),"Number",{parseInt:i})},"16d1":function(t,e,n){t.exports=n.p+"img/icon-arrow_back.928aa8d3.svg"},"18fa":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{class:{changed:t.isDirty},attrs:{id:"contentForm"},on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)},change:t.itemChanged}},[n("td",[n("MdField",{class:{"md-input-invalid":t.errors.has("title")}},[n("MdInput",{attrs:{type:"text"},model:{value:t.contentData.title,callback:function(e){t.$set(t.contentData,"title",e)},expression:"contentData.title"}}),n("span",{staticClass:"md-error"},[t._v("\n\t\t\t\t"+t._s(t.errors.first("title"))+"\n\t\t\t")])],1)],1),n("td",[n("MdField",{class:{"md-input-invalid":t.errors.has("url")}},[n("MdInput",{model:{value:t.contentData.url,callback:function(e){t.$set(t.contentData,"url",e)},expression:"contentData.url"}}),n("span",{staticClass:"md-error"},[t._v("\n\t\t\t\t"+t._s(t.errors.first("url"))+"\n\t\t\t")])],1)],1),n("td",{staticClass:"hide-s"},[n("MdField",[n("MdInput",{attrs:{name:"license"},model:{value:t.contentData.licenses,callback:function(e){t.$set(t.contentData,"licenses",e)},expression:"contentData.licenses"}})],1)],1),n("td",{staticClass:"hide-m"},[n("MdField",[n("MdSelect",{attrs:{id:"contentCategory",name:"contentCategory"},model:{value:t.contentData.contentCategory,callback:function(e){t.$set(t.contentData,"contentCategory",e)},expression:"contentData.contentCategory"}},[n("MdOption",{attrs:{value:""}}),n("MdOption",{attrs:{value:"atomic"}},[t._v("\n\t\t\t\t\tAtomic\n\t\t\t\t")]),n("MdOption",{attrs:{value:"interactive"}},[t._v("\n\t\t\t\t\tInteractive\n\t\t\t\t")])],1)],1)],1),n("td",[n("MdButton",{staticClass:"md-icon-button",on:{click:function(e){t.dialog.active=!0}}},[n("MdIcon",[t._v("delete")])],1),n("ConfirmDialog",{attrs:{config:t.dialog},on:{confirm:t.deleteContent}}),n("MdButton",{staticClass:"md-icon-button md-primary",attrs:{type:"submit"}},[n("MdIcon",[t._v("save")])],1)],1)])},i=[],r=(n("4917"),n("a026")),o=n("7bb1");r["default"].use(o["a"]);var s=function(){return n.e("ConfirmDialog").then(n.bind(null,"9135"))},c={name:"ContentTableRow",components:{ConfirmDialog:s},props:{contentData:{type:Object,default:function(){return{}}}},data:function(){return{isDirty:!1,dialog:{active:!1,title:this.$lang.edit.dialog.title,content:this.$lang.edit.dialog.content,confirm:this.$lang.edit.dialog.confirm,cancle:this.$lang.edit.dialog.cancle}}},watch:{"data.contentCategory":function(){this.itemChanged()},"data.licenses":function(){this.itemChanged()}},methods:{required:function(t){return t&&""!=t},isUrl:function(t){return t.match(/[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)/gi)},maxLength:function(t,e){return t.length<=e},validateBeforeSubmit:function(){if(this.isUrl(this.contentData.url)&&this.required(this.contentData.title))return alert("Form Submitted!"),void this.submitContent();alert("Correct the errors!")},submitContent:function(){this.clearItemChanged(),this.$route.params.id?this.$http.patch(this.$config.API.contentServerUrl+this.$config.API.pushContentPath+this.contentData._id,this.contentData,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}):this.$http.post(this.$config.API.contentServerUrl+this.$config.API.pushContentPath,this.contentData,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}})},itemChanged:function(){this.isDirty=!0},clearItemChanged:function(){this.isDirty=!1},deleteContent:function(){var t=this;this.clearItemChanged(),this.$http.delete(this.$config.API.contentServerUrl+this.$config.API.pushContentPath+this.contentData._id,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(function(){t.$router.push({path:"/"})}),this.$emit("delete",this.contentData._id)}}},l=c,d=(n("ba54"),n("2877")),u=Object(d["a"])(l,a,i,!1,null,"5721ee7f",null);e["default"]=u.exports},"200d":function(t,e,n){"use strict";var a=n("790d"),i=n.n(a);i.a},"386d":function(t,e,n){"use strict";var a=n("cb7c"),i=n("83a1"),r=n("5f1b");n("214f")("search",1,function(t,e,n,o){return[function(n){var a=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=o(n,t,this);if(e.done)return e.value;var s=a(t),c=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var d=r(s,c);return i(s.lastIndex,l)||(s.lastIndex=l),null===d?-1:d.index}]})},"3a3d":function(t,e,n){n("14e0"),t.exports=n("584a").Number.parseInt},"4c4a":function(t,e,n){t.exports=n.p+"img/icon-error.23eb8c72.svg"},"5d6b":function(t,e,n){var a=n("e53d").parseInt,i=n("a1ce").trim,r=n("e692"),o=/^[-+]?0[xX]/;t.exports=8!==a(r+"08")||22!==a(r+"0x16")?function(t,e){var n=i(String(t),3);return a(n,e>>>0||(o.test(n)?16:10))}:a},"5f50":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter"},[t._l(t.activeFilter,function(e){return n("MdChip",{key:e[0],attrs:{"md-clickable":"","md-deletable":""},on:{click:function(n){t.visibleProvider=e[0]},"md-delete":function(n){return n.stopPropagation(),t.removeFilter(e[0],!0)}},model:{value:t.activeFilter,callback:function(e){t.activeFilter=e},expression:"activeFilter"}},[t._v(t._s(e[1].displayString))])}),n("MdMenu",{attrs:{"md-direction":"bottom-end"}},[n("MdButton",{attrs:{"md-menu-trigger":""}},[n("MdIcon",[n("i",{staticClass:"material-icons"},[t._v("add")])]),t._v("FILTER HINZUFÜGEN\n\t\t")],1),n("MdMenuContent",[t.isApplied("provider")?t._e():n("MdMenuItem",{on:{click:function(e){t.visibleProvider="provider"}}},[t._v("Provider")]),t.isApplied("createdat")?t._e():n("MdMenuItem",{on:{click:function(e){t.visibleProvider="createdat"}}},[t._v("Erstellt am")])],1)],1),n("ProviderFilterDialog",{attrs:{identifier:"provider",active:"provider"==t.visibleProvider},on:{set:t.setFilter,cancle:t.cancle}}),n("CreatedatFilterDialog",{attrs:{identifier:"createdat",active:"createdat"==t.visibleProvider},on:{set:t.setFilter,cancle:t.cancle}})],2)},i=[],r=(n("6762"),n("2fdb"),n("5176")),o=n.n(r),s=(n("ac6a"),n("f499")),c=n.n(s),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("MdDialog",{attrs:{"md-active":t.isActive},on:{"update:mdActive":function(e){t.isActive=e},"update:md-active":function(e){t.isActive=e}}},[n("MdDialogTitle",[t._v(t._s(t.$lang.filter.provider.modal_title))]),n("div",{attrs:{id:"provider-picker"}},[n("MdField",[n("label",{attrs:{for:"selectedProviders"}},[t._v("\n\t\t\t\t"+t._s(t.$lang.filter.provider.placeholder)+"\n\t\t\t")]),n("MdSelect",{attrs:{id:"selectedProviders","md-dense":""},model:{value:t.selectedProviders,callback:function(e){t.selectedProviders=e},expression:"selectedProviders"}},[n("MdOption",{attrs:{value:""}},[t._v("\n\t\t\t\t\tkein Provider\n\t\t\t\t")]),n("MdOption",{attrs:{value:"Khan Academy"}},[t._v("\n\t\t\t\t\tKhan Academy\n\t\t\t\t")]),n("MdOption",{attrs:{value:"Serlo"}},[t._v("\n\t\t\t\t\tSerlo\n\t\t\t\t")]),n("MdOption",{attrs:{value:"Youtube"}},[t._v("\n\t\t\t\t\tYoutube\n\t\t\t\t")]),n("MdOption",{attrs:{value:"LEIFI Physik"}},[t._v("\n\t\t\t\t\tLEIFI Physik\n\t\t\t\t")])],1)],1)],1),n("MdDialogActions",[n("MdButton",{on:{click:t.onCancle}},[t._v("\n\t\t\t"+t._s(t.$lang.buttons.cancel)+"\n\t\t")]),n("MdButton",{staticClass:"md-primary",on:{click:t.onConfirm}},[t._v("\n\t\t\t"+t._s(t.$lang.buttons.add)+"\n\t\t")])],1)],1)},d=[],u={name:"DialogConfirm",props:{identifier:{type:String,default:""},active:{type:Boolean}},data:function(){return{isActive:!1,selectedProviders:"",apiQuery:{},urlQuery:{}}},watch:{active:function(t){this.isActive=t},isActive:function(t){0==t&&this.onCancle()}},created:function(){this.$parent.$on("reset",this.resetProviders)},methods:{onConfirm:function(){var t;0!=this.selectedProviders.length?(this.apiQuery["providerName[$match]"]=this.selectedProviders,this.urlQuery={provider:this.selectedProviders},t="Provider: ".concat(this.selectedProviders)):(this.apiQuery={},this.urlQuery={},t=null),this.$emit("set",this.identifier,{apiQuery:this.apiQuery,urlQuery:this.urlQuery,displayString:t})},onCancle:function(){this.$emit("cancle")},resetProviders:function(t){t==this.identifier&&(this.selectedProviders="")}}},h=u,f=(n("7892"),n("2877")),g=Object(f["a"])(h,l,d,!1,null,"827d1878",null),p=g.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("MdDialog",{attrs:{"md-active":t.isActive},on:{"update:mdActive":function(e){t.isActive=e},"update:md-active":function(e){t.isActive=e}}},[n("MdDialogTitle",[t._v(t._s(t.$lang.filter.createdAt.modal_title))]),n("div",{attrs:{id:"provider-picker"}},[n("MdDatepicker",{attrs:{"md-disabled-dates":t.disabledFromDates},model:{value:t.createdDateRange.from,callback:function(e){t.$set(t.createdDateRange,"from",e)},expression:"createdDateRange.from"}},[n("label",[t._v(t._s(t.$lang.filter.createdAt.from))])]),n("MdDatepicker",{attrs:{"md-disabled-dates":t.disabledToDates},model:{value:t.createdDateRange.to,callback:function(e){t.$set(t.createdDateRange,"to",e)},expression:"createdDateRange.to"}},[n("label",[t._v(t._s(t.$lang.filter.createdAt.to))])])],1),n("MdDialogActions",[n("MdButton",{on:{click:t.onCancle}},[t._v("\n\t\t\t"+t._s(t.$lang.buttons.cancel)+"\n\t\t")]),n("MdButton",{staticClass:"md-primary",on:{click:t.onConfirm}},[t._v("\n\t\t\t"+t._s(t.$lang.buttons.add)+"\n\t\t")])],1)],1)},m=[],y={name:"DialogConfirm",props:{identifier:{type:String,default:""},active:{type:Boolean}},data:function(){return{isActive:!1,createdDateRange:{from:void 0,to:void 0},apiQuery:{},urlQuery:{}}},computed:{firstDayOfAWeek:{get:function(){return 1}}},watch:{active:function(t){this.isActive=t},isActive:function(t){0==t&&this.onCancle()},"createdDateRange.from":function(){this.orderDated()},"createdDateRange.to":function(){this.orderDated()}},created:function(){this.$parent.$on("reset",this.resetDates)},methods:{onConfirm:function(){var t,e,n;if(this.createdDateRange.from||this.createdDateRange.to){if(this.createdDateRange.from){var a=new Date(this.createdDateRange.from);this.apiQuery["createdAt[$gte]"]=this.createdDateRange.from,this.urlQuery.createdAtFrom=this.createdDateRange.from,e="".concat(a.getDate(),".").concat(a.getMonth()+1,".").concat(a.getFullYear())}else delete this.apiQuery["createdAt[$gte]"],delete this.urlQuery.createdAtFrom,e="∞";if(this.createdDateRange.to){var i=new Date(this.createdDateRange.to);this.apiQuery["createdAt[$lte]"]=this.createdDateRange.to,this.urlQuery.createdAtTo=this.createdDateRange.to,n="".concat(i.getDate(),".").concat(i.getMonth()+1,".").concat(i.getFullYear())}else delete this.apiQuery["createdAt[$gte]"],delete this.urlQuery.createdAtTo,n="∞";t="".concat(e," - ").concat(n)}else this.apiQuery={},t=null,this.urlQuery={};this.$emit("set",this.identifier,{apiQuery:this.apiQuery,urlQuery:this.urlQuery,displayString:t})},onCancle:function(){this.$emit("cancle")},resetDates:function(t){t==this.identifier&&(this.createdDateRange.from=void 0,this.createdDateRange.to=void 0)},disabledFromDates:function(t){var e=new Date;return e<t},disabledToDates:function(t){var e=new Date;return e<t},orderDated:function(){var t=this.createdDateRange.from,e=this.createdDateRange.to;t&&e&&(this.createdDateRange.from=Math.min(t,e),this.createdDateRange.to=Math.max(t,e))}}},b=y,_=(n("200d"),Object(f["a"])(b,v,m,!1,null,"7fe3ce56",null)),C=_.exports,$={name:"SearchFilter",components:{ProviderFilterDialog:p,CreatedatFilterDialog:C},data:function(){return{visibleProvider:"",activeFilter:[]}},watch:{activeFilter:function(){this.sendNewQuery()}},methods:{setFilter:function(t,e){this.visibleProvider="",e=JSON.parse(c()(e)),this.removeFilter(t,!1),this.activeFilter.push([t,e])},removeFilter:function(t,e){this.activeFilter=this.activeFilter.filter(function(e){return e[0]!=t}),e&&this.$emit("reset",t)},cancle:function(){this.visibleProvider=""},sendNewQuery:function(){var t={},e={};this.activeFilter.forEach(function(n){o()(t,n[1].apiQuery),o()(e,n[1].urlQuery)},{}),this.$emit("newFilter",t,e)},isApplied:function(t){return this.activeFilter.map(function(t){return t[0]}).includes(t)}}},D=$,P=Object(f["a"])(D,a,i,!1,null,null,null);e["default"]=P.exports},6453:function(t,e,n){"use strict";t.exports=(t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},"6dd2":function(t,e,n){},"70f1":function(t,e,n){t.exports=n("3a3d")},"72bf":function(t,e,n){"use strict";const a=n("6453"),i=n("f234");function r(t){switch(t.arrayFormat){case"index":return(e,n,a)=>{return null===n?[s(e,t),"[",a,"]"].join(""):[s(e,t),"[",s(a,t),"]=",s(n,t)].join("")};case"bracket":return(e,n)=>{return null===n?[s(e,t),"[]"].join(""):[s(e,t),"[]=",s(n,t)].join("")};default:return(e,n)=>{return null===n?s(e,t):[s(e,t),"=",s(n,t)].join("")}}}function o(t){let e;switch(t.arrayFormat){case"index":return(t,n,a)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===a[t]&&(a[t]={}),a[t][e[1]]=n):a[t]=n};case"bracket":return(t,n,a)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==a[t]?a[t]=[].concat(a[t],n):a[t]=[n]:a[t]=n};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}function s(t,e){return e.encode?e.strict?a(t):encodeURIComponent(t):t}function c(t,e){return e.decode?i(t):t}function l(t){return Array.isArray(t)?t.sort():"object"===typeof t?l(Object.keys(t)).sort((t,e)=>Number(t)-Number(e)).map(e=>t[e]):t}function d(t){const e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function u(t,e){e=Object.assign({decode:!0,arrayFormat:"none"},e);const n=o(e),a=Object.create(null);if("string"!==typeof t)return a;if(t=t.trim().replace(/^[?#&]/,""),!t)return a;for(const i of t.split("&")){let[t,r]=i.replace(/\+/g," ").split("=");r=void 0===r?null:c(r,e),n(c(t,e),r,a)}return Object.keys(a).sort().reduce((t,e)=>{const n=a[e];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?t[e]=l(n):t[e]=n,t},Object.create(null))}e.extract=d,e.parse=u,e.stringify=((t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},e);const n=r(e),a=Object.keys(t);return!1!==e.sort&&a.sort(e.sort),a.map(a=>{const i=t[a];if(void 0===i)return"";if(null===i)return s(a,e);if(Array.isArray(i)){const t=[];for(const e of i.slice())void 0!==e&&t.push(n(a,e,t.length));return t.join("&")}return s(a,e)+"="+s(i,e)}).filter(t=>t.length>0).join("&")}),e.parseUrl=((t,e)=>{const n=t.indexOf("#");return-1!==n&&(t=t.slice(0,n)),{url:t.split("?")[0]||"",query:u(d(t),e)}})},7445:function(t,e,n){var a=n("63b6"),i=n("5d6b");a(a.G+a.F*(parseInt!=i),{parseInt:i})},"74e7":function(t,e,n){t.exports=n.p+"img/icon-arrow_forward.7d503149.svg"},7892:function(t,e,n){"use strict";var a=n("6dd2"),i=n.n(a);i.a},"790d":function(t,e,n){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"91d4":function(t,e,n){"use strict";var a=n("9f60"),i=n.n(a);i.a},"9e90":function(t,e,n){"use strict";var a=n("c959"),i=n.n(a);i.a},"9f60":function(t,e,n){},a1ce:function(t,e,n){var a=n("63b6"),i=n("25eb"),r=n("294c"),o=n("e692"),s="["+o+"]",c="​",l=RegExp("^"+s+s+"*"),d=RegExp(s+s+"*$"),u=function(t,e,n){var i={},s=r(function(){return!!o[t]()||c[t]()!=c}),l=i[t]=s?e(h):o[t];n&&(i[n]=l),a(a.P+a.F*s,"String",i)},h=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(d,"")),t};t.exports=u},a21f:function(t,e,n){var a=n("584a"),i=a.JSON||(a.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},ba54:function(t,e,n){"use strict";var a=n("fd2f"),i=n.n(a);i.a},c182:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"head"},[a("div",{attrs:{id:"search-input"}},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.searchQuery,expression:"searchQuery",modifiers:{lazy:!0}}],attrs:{id:"search-query-input",placeholder:t.$lang.searchContent.search_for+"..."},domProps:{value:t.searchQuery},on:{change:function(e){t.searchQuery=e.target.value}}}),a("br"),t.searchQuery?a("span",{attrs:{id:"result-headline"}},[a("b",[t._v(t._s(t.pagination.totalEntrys))]),t._v("\n\t\t\t\t"+t._s(t.$lang.searchContent.searchResults_for)+"\n\t\t\t\t"),a("b",[t._v('"'+t._s(t.searchQuery)+'"')])]):t._e()]),a("SearchFilter",{on:{newFilter:t.updateFilter}}),a("div",{staticClass:"flex"},[1!=t.readOnly?a("div",[a("BaseButton",{attrs:{raised:t.gutter,secondary:!t.gutter,primary:t.gutter},on:{ButtonClicked:function(e){t.gutter=!0}}},[t._v("\n\t\t\t\t\t"+t._s(t.$lang.buttons.card)+"\n\t\t\t\t")]),a("BaseButton",{attrs:{raised:!t.gutter,secondary:t.gutter,primary:!t.gutter},on:{ButtonClicked:function(e){t.gutter=!1,t.tableEnabled=!0}}},[t._v("\n\t\t\t\t\t"+t._s(t.$lang.buttons.list)+"\n\t\t\t\t")])],1):t._e(),a("div",{staticClass:"items-per-page-picker"},[a("BaseSelect",{attrs:{label:t.$lang.searchContent.items_per_page,name:"itemsPerPage",options:t.entry_options,selected:t.pagination.itemsPerPage.toString()},on:{input:function(e){t.pagination.itemsPerPage=parseInt(e)}}})],1)])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.gutter,expression:"gutter"}],staticClass:"grid"},t._l(t.data,function(e){return a("div",{key:e._id+"#card",staticClass:"card-wrapper grid-xs-12 grid-s-6 grid-m-6 grid-l-4 grid-xl-3 height-100"},[a("ContentCard",{staticClass:"height-100",attrs:{data:e,"read-only":t.readOnly}})],1)}),0),t.tableEnabled&&1!=t.readOnly?a("table",{directives:[{name:"show",rawName:"v-show",value:!t.gutter,expression:"!gutter"}]},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$lang.edit.form.title))]),a("th",[t._v(t._s(t.$lang.edit.form.url))]),a("th",{staticClass:"hide-s"},[t._v(t._s(t.$lang.edit.form.license))]),a("th",{staticClass:"hide-m"},[t._v(t._s(t.$lang.edit.form.categorie))])])]),t._l(t.data,function(e){return a("ContentRow",{key:e._id+"#table",attrs:{"content-data":e},on:{delete:t.deleteEntry}})})],2):t._e(),0==t.data.length?a("div",{staticClass:"empty_state"},[a("img",{attrs:{src:n("4c4a")}}),a("strong",[t._v(t._s(t.$lang.searchContent.nothing_found))]),a("p",[t._v(t._s(t.$lang.searchContent.nothing_found_help))])]):t._e(),a("Pagination",{attrs:{config:t.pagination},on:{pageChanged:t.pageChanged}})],1)},i=[],r=(n("ac6a"),n("5176")),o=n.n(r),s=(n("386d"),n("e814")),c=n.n(s),l=n("df2d"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination"},[1==t.config.page?a("BaseButton",{attrs:{disabled:!0,round_shape:!0}},[a("img",{attrs:{src:n("16d1")}})]):a("BaseButton",{attrs:{secondary:!0,raised:!0,round_shape:!0},on:{ButtonClicked:function(e){t.config.page-=1}}},[a("img",{attrs:{src:n("16d1")}})]),a("BaseButton",{attrs:{id:"page-number",primary:!0,raised:!0}},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.pageString,expression:"pageString",modifiers:{lazy:!0}}],attrs:{type:"number",min:"1",max:t.maxPages},domProps:{value:t.pageString},on:{change:function(e){t.pageString=e.target.value}}})]),t.config.page==t.maxPages?a("BaseButton",{attrs:{disabled:!0,round_shape:!0}},[a("img",{attrs:{src:n("74e7")}})]):a("BaseButton",{attrs:{secondary:!0,raised:!0,round_shape:!0},on:{ButtonClicked:function(e){t.config.page+=1}}},[a("img",{attrs:{src:n("74e7")}})])],1)},u=[],h=n("70f1"),f=n.n(h),g=(n("6b54"),n("0ed6")),p={name:"Pagination",components:{BaseButton:g["a"]},props:{config:{type:Object,required:!0}},data:function(){return{pageString:"1",maxPages:"1"}},watch:{"config.totalEntrys":function(){this.calcMaxPages()},"config.itemsPerPage":function(){this.calcMaxPages()},"config.page":function(){this.config.scroll&&window.scroll(this.config.scroll),this.pageString=this.config.page.toString(),this.$emit("pageChanged",this.config.page)},pageString:function(t){t&&(this.config.page=f()(this.pageString))}},created:function(){this.pageString=this.config.page.toString(),this.calcMaxPages()},methods:{calcMaxPages:function(){this.maxPages=(Math.ceil(this.config.totalEntrys/this.config.itemsPerPage)||1).toString()}}},v=p,m=(n("91d4"),n("2877")),y=Object(m["a"])(v,d,u,!1,null,"e0058074",null),b=y.exports,_=n("5f50"),C=n("18fa"),$=n("8cc4"),D=n("72bf"),P={name:"ContentList",components:{ContentCard:l["default"],Pagination:b,ContentRow:C["default"],SearchFilter:_["default"],BaseSelect:$["a"],BaseButton:g["a"]},props:{readOnly:{type:Boolean}},data:function(){return{data:[],gutter:!0,tableEnabled:!1,searchQuery:"",apiFilterQuery:{},urlQuery:{},pagination:{page:1,itemsPerPage:12,totalEntrys:0,buttonRange:2,scroll:{top:0,left:0,behavior:"smooth"}},entry_options:[{key:"12",value:12},{key:"24",value:24},{key:"48",value:48},{key:"96",value:96}]}},watch:{searchQuery:function(t,e){t!=e&&(""!=e&&(this.pagination.page=1),this.loadContent())},"pagination.page":function(t,e){t!=e&&this.loadContent()},"pagination.itemsPerPage":function(t,e){t!=e&&(this.pagination.page=1,this.loadContent())}},created:function(){if(this.$router)this.searchQuery=this.$route.query.q||"",this.pagination.page=c()(this.$route.query.p)||1;else{var t=D.parse(location.search)||{};this.searchQuery=t.q||"",this.pagination.page=c()(t.p)||1}this.loadContent(),window.onhashchange=this.urlChangeHandler},methods:{pageChanged:function(t){this.pagination.page=t,this.loadContent()},updateURL:function(t){if(this.$router)this.$router.push({query:t});else if(history.pushState){var e="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(D.stringify(t));window.history.pushState({path:e},"",e)}},loadContent:function(){var t=this,e=this.pagination.page||1,n=this.searchQuery||"";this.urlQuery.q=n,this.urlQuery.p=e,this.updateURL(this.urlQuery);var a={$limit:this.pagination.itemsPerPage,$skip:this.pagination.itemsPerPage*(e-1),"_all[$match]":n},i=D.stringify(o()(a,this.apiFilterQuery)),r=0==n.length?this.$config.API.getContentPath:"".concat(this.$config.API.searchContentPath,"?").concat(i);this.$http.get(this.$config.API.serverServerUrl+r,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then(function(e){t.data=e.data.data,t.pagination.totalEntrys=e.data.total}).catch(function(t){console.error(t)})},urlChangeHandler:function(){if(this.$router)this.searchQuery=this.$route.query.q,this.pagination.page=c()(this.$route.query.p);else{var t=D.parse(location.search);this.searchQuery!=t.q&&(this.searchQuery=t.q),this.pagination.page!=c()(t.p)&&(this.pagination.page=c()(t.p))}},updateFilter:function(t,e){this.apiFilterQuery=t,this.urlQuery=e,this.loadContent()},deleteEntry:function(t){var e=this;this.data.forEach(function(n,a){n._id==t&&e.data.splice(a,1)})}}},x=P,w=(n("9e90"),Object(m["a"])(x,a,i,!1,null,"4bb4bb3d",null));e["default"]=w.exports},c959:function(t,e,n){},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(t,e,n){t.exports=n("b9e9")},f234:function(t,e,n){"use strict";var a="%[a-f0-9]{2}",i=new RegExp(a,"gi"),r=new RegExp("("+a+")+","gi");function o(t,e){try{return decodeURIComponent(t.join(""))}catch(i){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),a=t.slice(e);return Array.prototype.concat.call([],o(n),o(a))}function s(t){try{return decodeURIComponent(t)}catch(a){for(var e=t.match(i),n=1;n<e.length;n++)t=o(e,n).join(""),e=t.match(i);return t}}function c(t){var e={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(t);while(n){try{e[n[0]]=decodeURIComponent(n[0])}catch(l){var a=s(n[0]);a!==n[0]&&(e[n[0]]=a)}n=r.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),o=0;o<i.length;o++){var c=i[o];t=t.replace(new RegExp(c,"g"),e[c])}return t}t.exports=function(t){if("string"!==typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return c(t)}}},f499:function(t,e,n){t.exports=n("a21f")},fd2f:function(t,e,n){}}]);
//# sourceMappingURL=search.873933bd.js.map